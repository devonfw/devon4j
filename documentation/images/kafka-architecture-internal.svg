<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="686px" preserveAspectRatio="none" style="width:602px;height:686px;" version="1.1" viewBox="0 0 602 686" width="602px" zoomAndPan="magnify"><defs><filter height="300%" id="f1oqg2x02p9isl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[406b65fecc21e832f7a9b6ebadc6dce1]
cluster Client--><polygon fill="#90EE90" filter="url(#f1oqg2x02p9isl)" points="370.5,24,419.5,24,426.5,46.4883,502.5,46.4883,502.5,121,370.5,121,370.5,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="370.5" x2="426.5" y1="46.4883" y2="46.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="374.5" y="39.5352">Client</text><!--MD5=[7b2e70afe7f267be25615768dec87d6c]
cluster devon4j application--><polygon fill="#ADD8E6" filter="url(#f1oqg2x02p9isl)" points="149.5,170,297.5,170,304.5,192.4883,580.5,192.4883,580.5,674,149.5,674,149.5,170" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="149.5" x2="304.5" y1="192.4883" y2="192.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="153.5" y="185.5352">devon4j application</text><!--MD5=[1e973b9ce28c3523ad5f96df28de1463]
cluster service layer--><polygon fill="#ADD8E6" filter="url(#f1oqg2x02p9isl)" points="363.5,213,459.5,213,466.5,235.4883,509.5,235.4883,509.5,310,363.5,310,363.5,213" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="363.5" x2="466.5" y1="235.4883" y2="235.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="367.5" y="228.5352">service layer</text><!--MD5=[44f45922277fe0007af17307ba9a526e]
cluster logic layer--><polygon fill="#ADD8E6" filter="url(#f1oqg2x02p9isl)" points="173.5,359,254.5,359,261.5,381.4883,556.5,381.4883,556.5,650,173.5,650,173.5,359" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="173.5" x2="261.5" y1="381.4883" y2="381.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="177.5" y="374.5352">logic layer</text><!--MD5=[b30bb736bb262e52c68ce1914cf08ee2]
cluster FooUseCase--><polygon fill="#ADD8E6" filter="url(#f1oqg2x02p9isl)" points="197.5,402,289.5,402,296.5,424.4883,532.5,424.4883,532.5,626,197.5,626,197.5,402" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="197.5" x2="296.5" y1="424.4883" y2="424.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="201.5" y="417.5352">FooUseCase</text><!--MD5=[16f0729c0ef493573cbf85f5b776e7be]
entity MyClient--><rect fill="#FEFECE" filter="url(#f1oqg2x02p9isl)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="387" y="59"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="466" y="64"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="464" y="66"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="464" y="70"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="402" y="92.5352">MyClient</text><!--MD5=[62cc5260d99f4a8ae37709f73ef10e27]
entity FooService--><rect fill="#FEFECE" filter="url(#f1oqg2x02p9isl)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="379.5" y="248"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="473.5" y="253"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="471.5" y="255"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="471.5" y="259"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="394.5" y="281.5352">FooService</text><!--MD5=[bd25f319689cecc117b5c46fa37a0234]
class FooUseCaseImpl--><rect fill="#FEFECE" filter="url(#f1oqg2x02p9isl)" height="48" id="FooUseCaseImpl" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="373.5" y="437"/><ellipse cx="388.5" cy="453" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M390.9731,459.1431 Q390.3921,459.4419 389.7529,459.5913 Q389.1138,459.7407 388.4082,459.7407 Q385.9014,459.7407 384.5815,458.0889 Q383.2617,456.437 383.2617,453.3159 Q383.2617,450.1865 384.5815,448.5347 Q385.9014,446.8828 388.4082,446.8828 Q389.1138,446.8828 389.7612,447.0322 Q390.4087,447.1816 390.9731,447.4805 L390.9731,450.2031 Q390.3423,449.6221 389.7488,449.3523 Q389.1553,449.0825 388.5244,449.0825 Q387.1797,449.0825 386.4949,450.1492 Q385.8101,451.2158 385.8101,453.3159 Q385.8101,455.4077 386.4949,456.4744 Q387.1797,457.541 388.5244,457.541 Q389.1553,457.541 389.7488,457.2712 Q390.3423,457.0015 390.9731,456.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="402.5" y="457.5352">FooUseCaseImpl</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="374.5" x2="498.5" y1="469" y2="469"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374.5" x2="498.5" y1="477" y2="477"/><!--MD5=[55aa5dfcec3a26dee7de3e7bc8a6d7c8]
class FooConsumer--><rect fill="#FEFECE" filter="url(#f1oqg2x02p9isl)" height="48" id="FooConsumer" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="213.5" y="562"/><ellipse cx="228.5" cy="578" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M230.9731,584.1431 Q230.3921,584.4419 229.7529,584.5913 Q229.1138,584.7407 228.4082,584.7407 Q225.9014,584.7407 224.5815,583.0889 Q223.2617,581.437 223.2617,578.3159 Q223.2617,575.1865 224.5815,573.5347 Q225.9014,571.8828 228.4082,571.8828 Q229.1138,571.8828 229.7612,572.0322 Q230.4087,572.1816 230.9731,572.4805 L230.9731,575.2031 Q230.3423,574.6221 229.7488,574.3523 Q229.1553,574.0825 228.5244,574.0825 Q227.1797,574.0825 226.4949,575.1492 Q225.8101,576.2158 225.8101,578.3159 Q225.8101,580.4077 226.4949,581.4744 Q227.1797,582.541 228.5244,582.541 Q229.1553,582.541 229.7488,582.2712 Q230.3423,582.0015 230.9731,581.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="242.5" y="582.5352">FooConsumer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="322.5" y1="594" y2="594"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="214.5" x2="322.5" y1="602" y2="602"/><!--MD5=[44433fdf3166824cdc0eeea4d5bbc479]
class FooMessageProcessor--><rect fill="#FEFECE" filter="url(#f1oqg2x02p9isl)" height="48" id="FooMessageProcessor" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="358.5" y="562"/><ellipse cx="373.5" cy="578" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M375.9731,584.1431 Q375.3921,584.4419 374.7529,584.5913 Q374.1138,584.7407 373.4082,584.7407 Q370.9014,584.7407 369.5815,583.0889 Q368.2617,581.437 368.2617,578.3159 Q368.2617,575.1865 369.5815,573.5347 Q370.9014,571.8828 373.4082,571.8828 Q374.1138,571.8828 374.7612,572.0322 Q375.4087,572.1816 375.9731,572.4805 L375.9731,575.2031 Q375.3423,574.6221 374.7488,574.3523 Q374.1553,574.0825 373.5244,574.0825 Q372.1797,574.0825 371.4949,575.1492 Q370.8101,576.2158 370.8101,578.3159 Q370.8101,580.4077 371.4949,581.4744 Q372.1797,582.541 373.5244,582.541 Q374.1553,582.541 374.7488,582.2712 Q375.3423,582.0015 375.9731,581.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="387.5" y="582.5352">FooMessageProcessor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="359.5" x2="515.5" y1="594" y2="594"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="359.5" x2="515.5" y1="602" y2="602"/><!--MD5=[4d4729ea72b921d5115c8e7dad2e35fd]
entity Kafka Broker--><rect fill="#808080" filter="url(#f1oqg2x02p9isl)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="6" y="438"/><rect fill="#808080" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="113" y="443"/><rect fill="#808080" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="111" y="445"/><rect fill="#808080" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="111" y="449"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="21" y="471.5352">Kafka Broker</text><!--MD5=[e5d1a58b41566758e2b3b3ba9fcd704c]
link MyClient to FooService--><path d="M436.5,105.19 C436.5,139.49 436.5,205.32 436.5,242.56 " fill="none" id="MyClient-&gt;FooService" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="436.5,247.84,440.5,238.84,436.5,242.84,432.5,238.84,436.5,247.84" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="437.5" y="150.5684">http (e.g. 100 receipts)</text><!--MD5=[2ecd9b7b91be64a2a7074ad76903791b]
link FooUseCaseImpl to Kafka Broker--><path d="M373.46,461 C307.96,461 205.75,461 138.21,461 " fill="none" id="FooUseCaseImpl-&gt;Kafka Broker" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="133.01,461,142.01,465,138.01,461,142.01,457,133.01,461" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="151.75" y="454.5684">enqueue (1 message per receipt)</text><!--MD5=[0a54e35a659ac994763c0cc8f40059de]
link FooService to FooUseCaseImpl--><path d="M436.5,294.3 C436.5,328.51 436.5,393.91 436.5,431.5 " fill="none" id="FooService-&gt;FooUseCaseImpl" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="436.5,436.84,440.5,427.84,436.5,431.84,432.5,427.84,436.5,436.84" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="437.5" y="339.5684">(100 receipts)</text><!--MD5=[83361c68c51dff911b97803876310dbb]
link Kafka Broker to FooConsumer--><path d="M105.54,484.27 C139.66,505.36 190.86,537.01 226.74,559.19 " fill="none" id="Kafka Broker-&gt;FooConsumer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="231.04,561.85,225.4836,553.7182,226.7856,559.2231,221.2807,560.5252,231.04,561.85" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="181.5" y="528.5684">dequeue (1 message per receipt)</text><!--MD5=[fb8380bfc36259b80a5603c68f837da6]
link FooConsumer to FooMessageProcessor--><path d="M323.62,586 C333.47,586 343.32,586 353.17,586 " fill="none" id="FooConsumer-&gt;FooMessageProcessor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="358.32,586,349.32,582,353.32,586,349.32,590,358.32,586" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[dd98030e64f430c5516e128429117238]
reverse link FooUseCaseImpl to FooMessageProcessor--><path d="M436.73,490.2 C436.91,511.95 437.15,541.64 437.31,561.97 " fill="none" id="FooUseCaseImpl&lt;-FooMessageProcessor" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="436.69,485.14,432.7673,494.174,436.7329,490.1398,440.767,494.1054,436.69,485.14" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ea2c6cf058075de80a9cf74fb5d2dc08]
@startuml
skinparam componentStyle uml2
allow_mixing

package "Client" #lightgreen {
  component MyClient
}

component "Kafka Broker" #grey

package "devon4j application" #lightblue {
  package "service layer" {
    component FooService
    MyClient .down.> FooService :http (e.g. 100 receipts)  

  }
  package "logic layer" {
    package "FooUseCase" {
      class FooUseCaseImpl
      class FooConsumer
      class FooMessageProcessor
      FooUseCaseImpl .right.> "Kafka Broker" : enqueue (1 message per receipt)
      FooService -down-> FooUseCaseImpl : (100 receipts)
      "Kafka Broker" ..> FooConsumer : dequeue (1 message per receipt)
      FooConsumer -> FooMessageProcessor
      FooMessageProcessor -up-> FooUseCaseImpl
    }
  }
}



@enduml

PlantUML version 1.2020.06(Sun Apr 05 14:38:32 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.1+13
Operating System: Mac OS X
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>