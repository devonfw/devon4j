:toc:
toc::[]

= JIB
jib is a tool from Google to create Docker images in simple and faster way. No dockerfile or no docker compose file is required. Using Jib, image can be created and uploaded to the registery even without Docker daemon.

The JIB maven plugin configured to build the image using mvn command.

== Build and run the image locally
The Docker daemon should be available locally. 

To build the docker image.
[source]
----
mvn compile -Pcontainer

docker images

REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
myapp-server/java   0.0.1-SNAPSHOT      c521c9800c48        51 years ago        206MB
myapp-api/java      0.0.1-SNAPSHOT      7004670aa31e        51 years ago        161MB
myapp-core/java     0.0.1-SNAPSHOT      82d949c3daa3        51 years ago        205MB
----

To run the image.

[source]
----
docker run --publish 8081:8081 <image>
----

== Upload the image to the registery

No docker daemon required to be installed on your machine for this.

The first step is to configure the registery details in .m2/settings.xml.

[source]
----

<servers>
    <server>
        <id><registery>/<username>/<application>:<tag></id>
        <username><username></username>
        <password><password></password>
    </server>
</servers>

eg:-

<servers>
    <server>
        <id>docker.io/devonfw/myapp-core:0.0.1-SNAPSHOT</id>
        <username>devonfw</username>
        <password>password</password>
    </server>
</servers>

----

Run the below command to create and push the image to the image repository.
[source]
----
mvn compile -P release

----


